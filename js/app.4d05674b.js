(function(t){function e(e){for(var n,c,s=e[0],o=e[1],u=e[2],d=0,p=[];d<s.length;d++)c=s[d],Object.prototype.hasOwnProperty.call(i,c)&&i[c]&&p.push(i[c][0]),i[c]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);l&&l(e);while(p.length)p.shift()();return a.push.apply(a,u||[]),r()}function r(){for(var t,e=0;e<a.length;e++){for(var r=a[e],n=!0,s=1;s<r.length;s++){var o=r[s];0!==i[o]&&(n=!1)}n&&(a.splice(e--,1),t=c(c.s=r[0]))}return t}var n={},i={app:0},a=[];function c(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.m=t,c.c=n,c.d=function(t,e,r){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(r,n,function(e){return t[e]}.bind(null,n));return r},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/shop/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],o=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=o;a.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";r("85ec")},"03eb":function(t,e,r){"use strict";r("40c0")},"0c02":function(t,e,r){},2305:function(t,e,r){"use strict";r("c38f")},"40c0":function(t,e,r){},"47b0":function(t,e,r){"use strict";r("d2c9")},5118:function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("section",{staticClass:"header"},[t._m(0),r("nav",[r("tabs",{ref:"tabsId",attrs:{selected:t.selected}},[r("tab",{staticClass:"tab",attrs:{title:"home",cart:t.cart}},[r("home-resources",{attrs:{cart:t.cart,productArr:t.productArr}})],1),r("tab",{attrs:{title:"category"}},[r("select",{on:{change:t.chengeCategory,click:t.fetchCategory}},[r("option",{attrs:{disabled:"",selected:"",value:""}},[t._v(" Select a category ")]),t._l(t.arrCategory,(function(e){return r("option",{key:e.id,domProps:{value:e}},[t._v(" "+t._s(e)+" ")])}))],2),r("category-resources",{attrs:{mainArrCategory:t.mainArrCategory}})],1),r("tab",{attrs:{title:"product"}},[r("the-product",{attrs:{details:t.details,id:t.details.id,prodArr:t.productArr,cartProduct:t.cartProduct}})],1)],1)],1),r("div",[r("button",{staticClass:"button-nav",on:{click:function(e){return t.closeCart()}}},[r("font-awesome-icon",{staticClass:"icon",attrs:{icon:t.myIcon}})],1)]),t.cartActive?r("cart-alert",[r("ul",{staticClass:"list-cart"},[r("div",{staticClass:"button-close__app"},[r("button",{staticClass:"button-close",on:{click:t.closeCart}},[t._v("X")])]),t._l(t.cart,(function(e){return r("li",{key:e.id},[t._v(" "+t._s(e.title)+" - "+t._s(e.count)+" "),r("button",{on:{click:function(r){return t.removeCart(e.id)}}},[t._v("Удалить")])])})),r("p",{staticClass:"list-sum"},[t._v(t._s("Сумма к оплате: "+t.sumPurchase()))])],2)]):t._e()],1)])},a=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h3",{staticClass:"logo"},[t._v("mecle test")])])}],c=r("1da1"),s=(r("96cf"),r("d3b7"),r("7db0"),r("4de4"),r("ad3d")),o=r("ecee"),u=r("c074"),l=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("ul",{staticClass:"tabs__header"},t._l(t.tabs,(function(e,n){return r("li",{key:e.title,staticClass:"tabs__header-item",on:{click:function(e){return t.selectTab(n)}}},[t._v(" "+t._s(e.title)+" ")])})),0),t._t("default")],2)},d=[],p=(r("159b"),{data:function(){return{selectedIndex:0,tabs:[]}},props:["cart","selected"],inject:["productFetch","moreDetails"],created:function(){this.tabs=this.$children},mounted:function(){this.selectTab(0)},methods:{selectTab:function(t){this.selectedIndex=t,this.tabs.forEach((function(e,r){e.isActive=t===r})),0===t&&this.productFetch()}}}),f=p,h=(r("47b0"),r("2877")),v=Object(h["a"])(f,l,d,!1,null,null,null),m=v.exports,g=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"show",rawName:"v-show",value:t.isActive,expression:"isActive"}]},[t._t("default")],2)},b=[],_={props:{title:{type:String,default:"Tab"}},data:function(){return{isActive:!0}}},C=_,y=Object(h["a"])(C,g,b,!1,null,null,null),A=y.exports,w=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"list"},t._l(t.productArr,(function(e){return r("home-item",{key:e.id,attrs:{id:e.id,title:e.title,category:e.category,description:e.description,price:e.price,image:e.image,prodArr:t.productArr,active:e.active}})})),1)},x=[],j=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",{staticClass:"list-item"},[r("div",{staticClass:"img-app"},[r("img",{attrs:{src:t.image,alt:"image",width:"100%",height:"100%"}})]),r("p",[t._v(t._s("$"+t.price))]),r("h3",[t._v(t._s(t.title))]),r("p",[t._v(t._s(t.descriptionLimited))]),r("div",{staticClass:"button-app"},[r("button",{staticClass:"button button-details",on:{click:function(e){return t.moreDetails(t.id)}}},[t._v("Подробнее")]),!0===t.active?r("button",{staticClass:"button button-cart",on:{click:function(e){return t.productInCart(t.id,t.prodArr)}}},[t._v("В корзину")]):!1===t.active?r("button",{staticClass:"button button-remove",on:{click:function(e){return t.deleteInCart(t.id)}}},[t._v("Удалить")]):t._e()])])},P=[],I=(r("a4d3"),r("e01a"),r("fb6a"),{props:["title","description","image","price","category","id","active","prodArr","cart"],inject:["productInCart","deleteInCart","moreDetails"],computed:{descriptionLimited:function(){return this.description.length>185?this.description.slice(0,185)+"...":this.description}}}),k=I,O=(r("e7fc"),Object(h["a"])(k,j,P,!1,null,null,null)),$=O.exports,S={components:{HomeItem:$},data:function(){return{}},props:["productArr","cart"],methods:{}},E=S,T=(r("2305"),Object(h["a"])(E,w,x,!1,null,"0edca848",null)),R=T.exports,D=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("dialog",{attrs:{open:""}},[t._t("default")],2)},F=[],N=(r("03eb"),{}),J=Object(h["a"])(N,D,F,!1,null,"434f02b6",null),L=J.exports,M=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",[r("ul",{staticClass:"list"},t._l(t.mainArrCategory,(function(e){return r("category-item",{key:e.id,attrs:{id:e.id,category:e.category,description:e.description,img:e.image,price:e.price,title:e.title,active:e.active,mainArrCategory:t.mainArrCategory}})})),1)])},B=[],H=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",{staticClass:"list-item"},[r("div",{staticClass:"img-app"},[r("img",{attrs:{src:t.img,alt:"image",width:"100%",height:"100%"}})]),r("p",[t._v(t._s("$"+t.price))]),r("h3",[t._v(t._s(t.title))]),r("p",[t._v(t._s(t.descriptionLimited))]),r("div",{staticClass:"button-app"},[r("button",{staticClass:"button button-details",on:{click:function(e){return t.moreDetails(t.id)}}},[t._v("Подробнее")]),!0===t.active?r("button",{staticClass:"button button-cart",on:{click:function(e){return t.productInCart(t.id,t.mainArrCategory)}}},[t._v("В корзину")]):!1===t.active?r("button",{staticClass:"button button-remove",on:{click:function(e){return t.deleteInCart(t.id)}}},[t._v("Удалить")]):t._e()])])},X=[],q={props:["id","price","category","description","img","title","active","mainArrCategory"],inject:["productInCart","deleteInCart","moreDetails"],computed:{descriptionLimited:function(){return this.description.length>185?this.description.slice(0,185)+"...":this.description}}},z=q,G=Object(h["a"])(z,H,X,!1,null,null,null),K=G.exports,Q={components:{CategoryItem:K},props:["mainArrCategory"]},U=Q,V=(r("9acd"),Object(h["a"])(U,M,B,!1,null,null,null)),W=V.exports,Y=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h2",{directives:[{name:"show",rawName:"v-show",value:void 0===t.details.id,expression:"details.id === undefined"}],staticClass:"product-heading"},[t._v("Please select a product")]),r("div",{directives:[{name:"show",rawName:"v-show",value:void 0!==t.details.id,expression:"details.id !== undefined"}],staticClass:"list-item"},[r("div",{staticClass:"img-app"},[r("img",{attrs:{src:t.details.image,alt:"image",width:"100%",height:"100%"}})]),r("p",[t._v(t._s("$"+t.details.price))]),r("p",{staticClass:"product-category"},[t._v(t._s(t.details.category))]),r("h3",[t._v(t._s(t.details.title))]),r("p",[t._v(t._s(t.details.description))]),r("div",{staticClass:"button-app"},[!0===t.details.active?r("button",{staticClass:"button button-cart",on:{click:function(e){return t.productInCart(t.id,t.prodArr)}}},[t._v("В корзину")]):!1===t.details.active?r("button",{staticClass:"button button-remove",on:{click:function(e){return t.deleteInCart(t.id)}}},[t._v("Удалить")]):t._e()])])])},Z=[],tt={props:["details","id","prodArr","cartProduct"],inject:["productInCart","deleteInCart"]},et=tt,rt=(r("ebc7"),Object(h["a"])(et,Y,Z,!1,null,null,null)),nt=rt.exports;o["c"].add(u["a"],u["b"]);var it={name:"App",components:{Tabs:m,Tab:A,FontAwesomeIcon:s["a"],CartAlert:L,CategoryResources:W,HomeResources:R,TheProduct:nt},data:function(){return{myIcon:u["b"],cartActive:!1,cart:[],productArr:[],url:"https://fakestoreapi.com/products",selected:"",arrCategory:[],mainArrCategory:[],cartProduct:{},cartProdCat:{},sum:null,details:{}}},mounted:function(){if(localStorage.getItem("cart"))try{this.cart=JSON.parse(localStorage.getItem("cart"))}catch(t){localStorage.removeItem("cart")}},provide:function(){return{productFetch:this.productFetch,productInCart:this.addCart,deleteInCart:this.removeCart,activeBtn:this.activeButton,moreDetails:this.moreDetails}},methods:{closeCart:function(){return this.cartActive=!this.cartActive},productFetch:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.url);case 2:return r=e.sent,e.next=5,r.json();case 5:n=e.sent,t.productArr=n,t.addProp(t.productArr),console.log(t.productArr);case 9:case"end":return e.stop()}}),e)})))()},addProp:function(t){for(var e=0;e<t.length;e++)this.$set(t[e],"active",!0),this.$set(t[e],"count",null)},addCart:function(t,e){console.log(t),this.cartProduct=e.find((function(e){return e.id===t})),this.cartProduct.active=!1,this.details.id===t&&(this.details.active=!1),this.cart.push(this.cartProduct),console.log(this.cart),console.log(e),this.saveCart()},saveCart:function(){var t=JSON.stringify(this.cart);localStorage.setItem("cart",t)},removeCart:function(t){console.log(t),this.cartProdCat=this.mainArrCategory.find((function(e){return e.id===t})),void 0!==this.cartProdCat&&(this.cartProdCat.active=!0),void 0===this.cartProdCats&&(this.cartProduct=this.productArr.find((function(e){return e.id===t})),this.cartProduct.active=!0),this.details.id===t&&(this.details.active=!0),this.cart=this.cart.filter((function(e){return e.id!==t})),console.log(this.cart),this.saveCart()},sumPurchase:function(){var t=0;return this.sum=this.cart.reduce((function(t,e){return t+e.price}),t),"$"+this.sum},chengeCategory:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var n,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,fetch(e.url+"/category/"+t.target.value);case 2:return n=r.sent,console.log(n),r.next=6,n.json();case 6:i=r.sent,e.mainArrCategory=i,e.addProp(e.mainArrCategory),console.log(e.mainArrCategory);case 10:case"end":return r.stop()}}),r)})))()},fetchCategory:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.url+"/categories");case 2:return r=e.sent,console.log(r),e.next=6,r.json();case 6:n=e.sent,t.arrCategory=n,console.log(t.arrCategory);case 9:case"end":return e.stop()}}),e)})))()},moreDetails:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function r(){var n,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,fetch(e.url+"/"+t);case 2:return n=r.sent,r.next=5,n.json();case 5:i=r.sent,e.details=i,e.$set(e.details,"active",!0),console.log(e.details),e.$refs.tabsId.selectTab(2);case 10:case"end":return r.stop()}}),r)})))()}}},at=it,ct=(r("034f"),Object(h["a"])(at,i,a,!1,null,null,null)),st=ct.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(st)}}).$mount("#app")},"85ec":function(t,e,r){},"9acd":function(t,e,r){"use strict";r("5118")},c38f:function(t,e,r){},d2c9:function(t,e,r){},e6e9:function(t,e,r){},e7fc:function(t,e,r){"use strict";r("0c02")},ebc7:function(t,e,r){"use strict";r("e6e9")}});
//# sourceMappingURL=app.4d05674b.js.map